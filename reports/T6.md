# T6 — Make sidebar discoverable for first-run users

## Status: ✅ DONE

## Objective

Expand the sidebar by default so new users see labeled navigation items without needing to hover or discover the expand toggle.

## Preflight

- Baseline: clean working tree after T5 commit `714aff1`
- Build: `npm run build` exit 0, 63 routes

## Scope Confirmation

- **Target file:** `src/app/components/AppLayout.tsx`
- **Problem:** `sidebarExpanded` defaults to `false` (line 65) — new users only see icons, no labels

## Execution Packet

### Design Decision

Default sidebar to expanded (`true`). Persist preference in `localStorage` (`rulekit-sidebar-expanded`). New users (no stored key) see expanded labels. Users who manually collapse keep their preference across sessions.

### Changes Made

| Area | Change |
|------|--------|
| `sidebarExpanded` initial state | `false` → lazy initializer: reads `localStorage`, defaults to `true` if no stored value |
| Persistence | Added `useEffect` that writes `sidebarExpanded` to `localStorage` on every change |

### Acceptance Criteria

| Criterion | Evidence |
|-----------|----------|
| New users see labeled navigation without hover dependency | Default is `true` when no `localStorage` key exists |
| Existing users can still collapse nav | Toggle button still works; preference persisted in `localStorage` |

### Validation Gates

| Gate | Result |
|------|--------|
| `npm run build` (post-change) | **exit 0**, 63 routes ✅ |
| Checklist updated | `T6` → `[x]`, `C5` → `[x]` ✅ |

## Artifacts

- Modified: `src/app/components/AppLayout.tsx`
- Updated: `MVP-CHECKLIST.md` (T6 `[x]`, C5 `[x]`)
- Report: `reports/T6.md` (this file)
