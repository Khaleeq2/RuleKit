# T2 — Align uploader UX with real support

## Status: ✅ DONE

## Objective

Make supported file formats explicit and consistent across all composer/upload affordances (drag-drop overlay, paperclip button, format badges, error toast, file input accept attribute).

## Preflight

- Baseline: clean working tree after T1 commit `b39250e`
- Build: `npm run build` exit 0, 63 routes

## Scope Confirmation

- **Target file:** `src/app/(app)/home/page.tsx`
- **Surfaces audited:**

| Surface | Before | Issue |
|---------|--------|-------|
| `accept` attribute | 10 extensions | ✅ Complete |
| `textExtensions` array | 9 extensions | ❌ Missing `.html` |
| Error toast | 6 format names | ❌ Incomplete |
| Paperclip `title` | 5 format names | ❌ Missing Markdown |
| Format badges | 5 badges | ❌ Missing MD |
| Drag overlay | No format info | ❌ No formats shown |

## Execution Packet

### Changes Made

| Surface | Before | After |
|---------|--------|-------|
| `textExtensions` (line 1029) | 9 extensions (missing `.html`) | 10 extensions (added `.html`) — **bug fix** |
| Error toast (line 1034) | `'Try JSON, CSV, TXT, XML, YAML, or Markdown files.'` | `'Supported: JSON, CSV, TXT, XML, YAML, Markdown, TSV, LOG, or HTML.'` |
| Drag overlay (line 1116) | `'Instantly check against your rules'` | `'JSON, CSV, TXT, XML, YAML, Markdown, and more'` |
| Format badges (line 1147) | `['JSON', 'CSV', 'TXT', 'XML', 'YAML']` | `['JSON', 'CSV', 'TXT', 'XML', 'YAML', 'MD']` |
| Paperclip title (line 1195) | `'Attach file (JSON, CSV, TXT, XML, YAML)'` | `'Attach file (JSON, CSV, TXT, XML, YAML, Markdown)'` |

### Validation Gates

| Gate | Result |
|------|--------|
| All 5 surfaces reference consistent format set | ✅ |
| `textExtensions` matches `accept` attribute | ✅ (both 10 extensions) |
| `npm run build` (post-change) | **exit 0**, 63 routes ✅ |
| Checklist updated | `T2` → `[x]` ✅ |

## Artifacts

- Modified: `src/app/(app)/home/page.tsx`
- Updated: `MVP-CHECKLIST.md` (T2 `[x]`)
- Report: `reports/T2.md` (this file)
